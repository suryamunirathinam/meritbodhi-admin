<!doctype html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <!-- Bootstrap CSS -->
    <!-- <link rel="stylesheet" href="../assets/libs/css/newprofile.css"> -->
    <link rel="icon" href="../../assets/images/header-logo2.png" type="image/x-icon">
    <link rel="stylesheet" href="../../assets/vendors/bootstrap/css/bootstrap.min.css">
    <link href="../../assets/vendors/fonts/circular-std/style.css" rel="stylesheet">
    <link rel="stylesheet" href="../../assets/libs/css/style.css">
    <link rel="stylesheet" href="meeting.css">
    <link rel="stylesheet" href="../../assets/vendors/fonts/fontawesome/css/fontawesome-all.css">
    <link rel="stylesheet" href="../../assets/vendors/charts/chartist-bundle/chartist.css">
    <link rel="stylesheet" href="../../assets/vendors/charts/morris-bundle/morris.css">
    <link rel="stylesheet" href="../../assets/vendors/fonts/material-design-iconic-font/css/materialdesignicons.min.css">
    <link rel="stylesheet" href="../../assets/vendors/charts/c3charts/c3.css">
    <link rel="stylesheet" href="../../assets/vendors/fonts/flag-icon-css/flag-icon.min.css">
    <script src="https://kit.fontawesome.com/28d953b416.js" crossorigin="anonymous"></script>
    <script src="https://www.gstatic.com/firebasejs/8.9.0/firebase-app.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.9.0/firebase-firestore.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.9.0/firebase-auth.js"></script>
    <script src="../js/connect.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/localforage/1.9.0/localforage.js"></script>
    <link rel="stylesheet" href="mulsel.css">
    <script src="../mulsel.js"></script>
    <title>Meritbothi | Meeting Faculty</title>
    <!-- cdns for custom multi select -->

    <style type="text/css">
        .spinner-3 {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: conic-gradient(#0000 10%, #5e72e4);
            --webkit-mask: radial-gradient(farthest-side, #0000 calc(100% - 8px), #000 0);
            animation: s3 1s infinite linear;
        }
        
        @keyframes s3 {
            to {
                transform: rotate(1turn)
            }
        }
        
        #snackbar {
            visibility: hidden;
            min-width: 250px;
            margin-left: -125px;
            background-color: #333;
            color: #fff;
            text-align: center;
            border-radius: 2px;
            padding: 16px;
            position: fixed;
            z-index: 1;
            left: 50%;
            bottom: 30px;
            font-size: 17px;
        }
        
        #snackbar.show {
            visibility: visible;
            -webkit-animation: fadein 0.5s, fadeout 0.5s 2.5s;
            animation: fadein 0.5s, fadeout 0.5s 2.5s;
        }
        
        @-webkit-keyframes fadein {
            from {
                bottom: 0;
                opacity: 0;
            }
            to {
                bottom: 30px;
                opacity: 1;
            }
        }
        
        @keyframes fadein {
            from {
                bottom: 0;
                opacity: 0;
            }
            to {
                bottom: 30px;
                opacity: 1;
            }
        }
        
        @-webkit-keyframes fadeout {
            from {
                bottom: 30px;
                opacity: 1;
            }
            to {
                bottom: 0;
                opacity: 0;
            }
        }
        
        @keyframes fadeout {
            from {
                bottom: 30px;
                opacity: 1;
            }
            to {
                bottom: 0;
                opacity: 0;
            }
        }
        
        .card-text {
            height: 2rem;
        }
        
        .card-img-top {
            object-fit: cover;
            height: 150px;
        }
        
        .uploadfilesection {
            margin-left: 14.5rem;
            margin-top: 20px;
        }
        
        .course_contents .panel {
            padding: 0;
            width: 45rem;
        }
        
        .course_contents .panel .panel-title {
            padding: 10px 20px;
            margin-bottom: 8px;
            font-size: 16px;
            font-weight: 100;
            color: #0A0A0A;
            background-color: #E2E2EB;
            width: 100%;
            font-family: Circular Std Medium;
            height: 50px;
            line-height: 1.7;
            border-radius: 5px;
            text-align: left;
            text-decoration: none;
            border: none;
            cursor: pointer;
        }
        
        .sectvideo {
            width: 10%;
        }
        
        .sectvideo1 {
            width: 10%;
            margin-left: 1rem;
        }
        
        .mincol {
            width: 50%;
        }
        
        .maxcol {
            width: 50%;
        }
        
        .forminmax {
            display: flex;
            justify-content: space-evenly;
        }
        
        .mulchoices {
            width: 13%;
        }
        
        .what {
            display: flex;
            padding: 5px;
        }
        
        .lft {
            max-width: 20%;
        }
        
        .ryt {
            max-width: 21%;
            margin-left: 3rem;
        }
        
        .modifythis {
            width: 12%;
            margin-top: -.5rem;
        }
        
        .modifythis1 {
            width: 12%;
            margin-top: -.5rem;
            height: 40px;
        }
        
        .totalamountplace {
            margin-left: 14.3rem;
            font-size: 18px;
        }
        
        .neednone {
            display: flex;
            justify-content: space-between;
        }
        
        .neednonee {
            display: flex;
            justify-content: space-between;
        }
        
        @media only screen and (max-width:1138px) {
            .course_contents .panel .panel-title {
                width: 90%;
            }
            .vedio-title {
                width: 30%;
                font-size: 10rem;
            }
            .vedio-details {
                width: 100%;
            }
            .course_contents .panel {
                width: 20rem;
            }
            .uploadfilesection {
                margin-left: 9.5rem;
            }
            .destest {
                width: 20rem;
            }
            .fortest {
                overflow-x: auto;
            }
            .addnewbtn {
                margin-top: 1rem;
            }
            .typeclass {
                width: 6.5rem;
            }
            .typeclass1 {
                width: 5.5rem;
                flex-direction: column;
            }
            .c1in {
                width: 15rem;
            }
            .c2in {
                width: 15rem;
                margin-left: 1rem;
            }
            .tstyle {
                width: 100%;
                overflow-x: auto;
            }
            .createformbtn {
                display: flex;
                justify-content: space-between;
            }
            .what {
                flex-direction: column;
                padding: 1px;
            }
            .lft {
                max-width: 80%;
            }
            .ryt {
                max-width: 80%;
                margin-left: 0px;
            }
            .modifythis {
                width: 22%;
            }
            .modifythis1 {
                width: 22%;
            }
            .mobmod {
                width: 17%;
            }
            .ptagintotal {
                width: 100%;
            }
        }
        
        .course_contents .panel button.panel-title:focus {
            outline: 0
        }
        
        .course_contents .panel .collapsible:after {
            content: "\f107";
            float: right;
            margin-top: 5px;
            font-size: 10px;
            font-weight: 900;
        }
        
        .course_contents .panel .active:after {
            content: "\f106";
        }
        
        .course_contents .panel .panel-body {
            display: none;
        }
        
        .course_contents .panel .panel-body .vedio-details {
            border-bottom: 1px solid #eeeeee;
            padding: 20px 25px;
        }
        
        .course_contents .panel .panel-body .vedio-details img.logo {
            width: 18px;
            height: 20px;
            margin-top: -3px;
            margin-right: 5px;
        }
        
        .course_contents .panel .panel-body .vedio-details span {
            font-size: 16px;
            color: #3d405c;
            transition: all 0.3s ease;
        }
        
        .course_contents .panel .panel-body .vedio-details span.flt_rt {
            float: right
        }
        
        .course_contents .panel .panel-body .vedio-details .flt_rt span.vedio-length {
            margin-left: 50px
        }
        
        .course_contents .panel .panel-body .vedio-details:hover,
        .course_contents .panel .panel-body .vedio-details:hover span {
            color: #3d405c;
            transition: all 0.3s ease;
        }
        
        .image1 {
            object-fit: cover;
            width: 100%;
            height: 350px;
        }
        
        .cm {
            margin-left: 4.5rem;
            margin-top: .5rem;
        }
        
        .createformbtn {
            margin-top: .5rem;
            margin-left: 5rem;
        }
        /*.course-edit .course-contents .row ul.course-content-overview {
    list-style-type: none;
    padding: 0;
    margin: 15px 0 0;
    padding-left: 20px;
    border-left: 1px solid #3452ff;
}
.course-edit .course-contents .row ul.course-content-overview li {
    font-size: 20px;
    font-weight: 400;
    color: #3452FF;
    padding: 0;
    position: relative;
}
.course-edit .course-contents .row ul.course-content-overview li::before {
    position: absolute;
    content: "";
    top: 15px;
    left: -20px;
    width: 15px;
    height: 2px;
    background-color: #3452FF;
}
.course-edit .course-contents .row ul.course-content-overview li p {
    font-size: 14px;
    color:  #6c757d;
}
*/
    </style>


</head>

<body onload="onLoadSetter()">
    <!-- ============================================================== -->
    <!-- main wrapper -->
    <!-- ============================================================== -->
    <div class="dashboard-main-wrapper">
        <!-- ============================================================== -->
        <!-- navbar -->
        <!-- ============================================================== -->
        <div class="dashboard-header">
            <nav class="navbar topbar-rr navbar-expand-lg bg-white fixed-top">
                <a class="navbar-brand" href="index.html" style="font-size: 23px;">Meritbothi</a>
                <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse " id="navbarSupportedContent">
                    <ul class="navbar-nav ml-auto navbar-right-top">

                        <li class="nav-item dropdown notification">
                            <a class="nav-link nav-icons" href="#" id="navbarDropdownMenuLink1" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><i class="fas fa-fw fa-bell"></i> <span>5</span>
                            </a>
                            <ul class="dropdown-menu dropdown-menu-right notification-dropdown">
                                <li>
                                    <div class="notification-title"> Notification</div>
                                    <div class="notification-list">
                                        <div class="list-group">
                                            <a href="#" class="list-group-item list-group-item-action active">
                                                <div class="notification-info">
                                                    <div class="notification-list-user-img"><img src="../../assets/images/avatar-2.jpg" alt="" class="user-avatar-md rounded-circle"></div>
                                                    <div class="notification-list-user-block"><span class="notification-list-user-name">Kishore</span>accepted your invitation to join the team.
                                                        <div class="notification-date">2 min ago</div>
                                                    </div>
                                                </div>
                                            </a>
                                            <a href="#" class="list-group-item list-group-item-action">
                                                <div class="notification-info">
                                                    <div class="notification-list-user-img"><img src="../../assets/images/avatar-3.jpg" alt="" class="user-avatar-md rounded-circle"></div>
                                                    <div class="notification-list-user-block"><span class="notification-list-user-name">Bharath </span>is now following you
                                                        <div class="notification-date">2 days ago</div>
                                                    </div>
                                                </div>
                                            </a>
                                            <a href="#" class="list-group-item list-group-item-action">
                                                <div class="notification-info">
                                                    <div class="notification-list-user-img"><img src="../../assets/images/avatar-4.jpg" alt="" class="user-avatar-md rounded-circle"></div>
                                                    <div class="notification-list-user-block"><span class="notification-list-user-name">Sudhersun</span> is watching your main repository
                                                        <div class="notification-date">2 min ago</div>
                                                    </div>
                                                </div>
                                            </a>
                                            <a href="#" class="list-group-item list-group-item-action">
                                                <div class="notification-info">
                                                    <div class="notification-list-user-img"><img src="../../assets/images/avatar-5.jpg" alt="" class="user-avatar-md rounded-circle"></div>
                                                    <div class="notification-list-user-block"><span class="notification-list-user-name">Sandy</span>accepted your invitation to join the team.
                                                        <div class="notification-date">2 min ago</div>
                                                    </div>
                                                </div>
                                            </a>
                                        </div>
                                    </div>
                                </li>
                                <li>
                                    <div class="list-footer"> <a href="#">View all notifications</a></div>
                                </li>
                            </ul>
                        </li>

                        <li class="nav-item dropdown nav-user">
                            <a class="nav-link nav-user-img" href="#" id="navbarDropdownMenuLink2" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><img src="../../assets/images/avatar-1.jpg" alt="" class="user-avatar-md rounded-circle" id="smallProfileImage"></a>
                            <div class="dropdown-menu dropdown-menu-right nav-user-dropdown" aria-labelledby="navbarDropdownMenuLink2">
                                <div class="nav-user-info">
                                    <h5 class="mb-0 text-white nav-user-name" id="iName">Black</h5>
                                    <span class="status"></span><span class="ml-2">Available</span>
                                </div>
                                <a class="dropdown-item" href="#"><i class="fas fa-user mr-2"></i>Account</a>
                                <a class="dropdown-item" href="#"><i class="fas fa-cog mr-2"></i>Setting</a>
                                <a class="dropdown-item" onclick="logout()" href="#"><i class="fas fa-power-off mr-2"></i>Logout</a>
                            </div>
                        </li>
                    </ul>
                </div>
            </nav>
        </div>
        <!-- ============================================================== -->
        <!-- end navbar -->
        <!-- ============================================================== -->
        <!-- ============================================================== -->
        <!-- left sidebar -->
        <!-- ============================================================== -->

        <div class="nav-left-sidebar sidebar-white">
            <div class="menu-list">
                <nav class="navbar navbar-expand-lg navbar-light">
                    <a class="d-xl-none d-lg-none" href="../dashboard">Merit Bodhi</a>
                    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                        <span class="navbar-toggler-icon"></span>
                    </button>
                    <div class="collapse navbar-collapse" id="navbarNav">
                        <ul class="navbar-nav flex-column">
                            <li class="nav-item ">
                                <a class="nav-link" href="../../faculty-dashboard"><i class="fas fa-chart-pie"></i>Dashboard</a>

                                <li class="nav-item">
                                    <a class="nav-link " href="../../faculty-profile"><i class="fas fa-user"></i>Profile</a>

                                    <li class="nav-item">
                                        <a class="nav-link active" href="../../faculty-courses"><i class="fas fa-book"></i>Courses</a>

                                        <li class="nav-item ">
                                            <a class="nav-link" href="../../faculty-requests"><i class="fas fa-envelope"></i>Requests</a>

                                            <li class="nav-item">
                                                <a class="nav-link " href="../../faculty-notification"><i class="fas fa-fw fa-bell"></i>Notifications</a>

                                                <li class="nav-item ">
                                                    <a class="nav-link" href="../../faculty-archive"><i class="fas fa-archive"></i>Archieve</a>

                                                    <li class="nav-item ">
                                                        <a class="nav-link " href="../../faculty-reviews"><i class="fas fa-star"></i>Reviews</a>

                                                        <li class="nav-item">
                                                            <a class="nav-link" href="../../faculty-payments"><i class="fas fa-credit-card"></i>Payments</a>

                                                            <li class="nav-item">
                                                                <a class="nav-link" href="../../faculty-referal"><i class="fas fa-hands-helping"></i>My Referal</a>

                                                                <li class="nav-item">
                                                                    <a class="nav-link" href="../../faculty-settings"><i class="fas fa-cog"></i>Settings</a>
                                                                </li>
                                                                <li class="nav-item hi-sh-lg">
                                                                    <a class="nav-link" href="#" onclick="logout()"><i class="fas fa-power-off"></i>Logout</a>
                                                                </li>
                        </ul>
                    </div>
                </nav>
            </div>
        </div>
        <!-- ============================================================== -->
        <!-- end left sidebar -->
        <!-- ============================================================== -->
        <!-- ============================================================== -->
        <!-- wrapper  -->
        <!-- ============================================================== -->
        <div class="dashboard-wrapper">
            <h3 class="headerh3" id="firstTitle">Web Development</h3>
            <div id="showIfOwnerIsFaculty" style="display: none;">
                <div class="dashboard-ecommerce">

                    <form id="formOfUpdate">
                        <div class="card1">

                            <div style="display: flex; justify-content: space-between; ">
                                <h4>Course Details</h4>
                                <a class="nav-link nav-user-img" href="#" id="navbarDropdownMenuLink2" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                    <i class="fas fa-ellipsis-v" style="cursor: pointer;"></i>
                                </a>

                                <div class="dropdown-menu dropdown-menu-right nav-user-dropdown">

                                    <li id="liediit" class="edit-items"><a href="#" class="form-control form-control-alternative" style="border: none;box-shadow: none;" onclick="edbtn()">Edit Details <i class="fas fa-pen" style="margin-left: 6.5rem;"></i></a></li>
                                    <li class="edit-items"><a href="#" class=" form-control form-control-alternative" style="border: none;box-shadow: none;" onclick="addToArchive()">Add to Archive<i class="fas fa-archive"style="margin-left: 5.4rem;"></i></a></li>
                                    <li class="edit-items"><a href="#" class="form-control form-control-alternative" style="border: none;box-shadow: none;" onclick="deleteCourse()">Delete Course<i class="far fa-trash-alt"style="margin-left: 5.8rem;"></i></a></li>

                                    <li class="edit-items"><a href="#" class="form-control form-control-alternative" style="border: none;box-shadow: none;" onclick="pubCourse()">Publish Course<i class="fas fa-check"style="margin-left: 5.8rem;"></i></a></li>
                                </div>
                                </li>

                            </div>

                            <!-- PAYMENT MODEL -->

                            <div>
                                <!-- Button trigger modal -->
                                <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#staticBackdrop11" id="paymentpopup" style="display:none">
                          Launch static backdrop modal
                        </button>

                                <!-- Modal -->
                                <div class="modal fade" id="staticBackdrop11" data-backdrop="static" data-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
                                    <div class="modal-dialog" style="max-width: 560px;">
                                        <div class="modal-content">
                                            <div class="modal-header">
                                                <h5 class="modal-title" id="staticBackdropLabel">Payment</h5>
                                                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                  <span aria-hidden="true">&times;</span>
                                </button>
                                            </div>
                                            <div class="modal-body">
                                                <div class="d-flex" style="margin-top: .7rem; justify-content: space-between;">
                                                    <p>Select payment type..</p>
                                                    <select name="coursePaymentType" id="coursePaymentType" name="coursePaymentType" class="form-control" onchange="showRelated(this.value)">
                                        <option value="0">choose...</option>
                                        <option value="1">NORMAL</option>
                                        <option value="2">LIFE LONG</option>
                                        <option value="3">FREE</option>
                                      </select>
                                                </div>
                                                <div style="margin-top: .7rem; justify-content: space-between; display:none" id="notForFree">
                                                    <p>Enter Amount
                                                        <small style="color:#5e72e4; font-size: 11px;"> (in Rupees)</small></p>

                                                    <input type="number" name="first" id="coursePrice" style="width:55%" class="form-control paymentContainerInput mobmod">
                                                </div>
                                                <div style="margin-top: .7rem; margin-left: 5rem; display:none" id="onlyForNormal">
                                                    <button id="addNewDiscountPeriod" type="button" class="btn btn-sm btn-primary" onclick="createNewDiscountPeriod('containerOfPayDis')"> Add New Discount Period</button>
                                                </div>
                                                <div id="containerOfPayDis">
                                                    <div class="d-flex" style="justify-content:space-between;">
                                                        <div style="margin-top: .7rem; display:none" class="onlyForNormal2">
                                                            <p>Enter Discount % Period
                                                                <small style="color:#5e72e4; font-size: 11px;"> (in days)</small></p>

                                                            <input type="number" name="first" style="width:6rem" class="form-control payConInpPeriod paymentContainerInput mobmod">
                                                        </div>

                                                        <div style="margin-top: .7rem; display:none" class="notForFree2">
                                                            <p>Enter Discount %
                                                                <small style="color:#5e72e4; font-size: 11px;"> (in percentage)</small></p>

                                                            <input type="number" name="first" style="width:6rem" class="form-control payConInpPercentage paymentContainerInput mobmod">
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="modal-footer">
                                                <div>
                                                    <button type="button" class="btn btn-sm btn-primary" onclick="publishCourse()">Publish</button>
                                                    <button type="button" class="btn btn-sm btn-primary" style="background-color:red;" data-dismiss="modal">Cancel</button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- PAYMENT MODEL END -->

                            <script type="text/javascript">
                                function pubCourse() {
                                    document.getElementById('paymentpopup').click();
                                }

                                function Needchanges() {
                                    if (document.getElementById('optSelect').value == 0) {
                                        document.getElementById('yone').style.display = "block";
                                        document.getElementById('ytwo').style.display = "block";
                                        document.getElementById('ythree').style.display = "block";
                                        document.getElementById('yfour').style.display = "none";
                                    }

                                    if (document.getElementById('optSelect').value == 1) {
                                        document.getElementById('yone').style.display = "none";
                                        document.getElementById('ytwo').style.display = "none";
                                        document.getElementById('ythree').style.display = "none";
                                        document.getElementById('yfour').style.display = "block";
                                    }

                                }
                                $('#discount').on('keyup', () => {
                                    var option = $('#optSelect').val();
                                    if (option == '0') {
                                        var price = $('#reducedPrice').val();
                                        var discount = $('#discount').val() / 100;
                                        var discountedPrice = price - (price * discount);

                                        if (discount != 0) {
                                            $('#afterDiscount').val(discountedPrice);
                                            $('#GSTPrice').html('Rs. ' + discountedPrice);
                                        } else {
                                            $('#afterDiscount').val(price);
                                            $('#GSTPrice').html('Rs. ' + price);
                                        }
                                    } else {
                                        var price = $('#noOriginalPrice').val();
                                        var discount = $('#discount').val() / 100;
                                        var discountedPrice = price - (price * discount);

                                        if (discount != 0) {
                                            $('#afterDiscount').val(discountedPrice);
                                            $('#GSTPrice').html('Rs. ' + discountedPrice);
                                        } else {
                                            $('#afterDiscount').val(price);
                                            $('#GSTPrice').html('Rs. ' + price);
                                        }
                                    }
                                })
                            </script>

                            <div class="cont">
                                <img src="joker.jpg" alt="Avatar" class="image1" id="avatars" style="width:100%;">
                                <div class="middle">
                                    <div class="text" id="txtid" style="display:none;">
                                        <i class="fas fa-plus-square" style="cursor: pointer;" onclick="cvrimage()"></i>
                                    </div>
                                    <input type="file" name="newCIimg" style="display:none;" id="coverimage">
                                </div>
                            </div>


                            <h3 class="coursei">Course&nbsp;&nbsp;Information</h3>
                            <div class="cardfirst">
                                <div class="thumb">
                                    <img src="joker.jpg" class="thmimg" id="thumbImg">
                                    <br>
                                    <button type="button" id="editbuttons" class="btn btn-sm btn-primary" style="margin-left: 4.5rem;
                        visibility: hidden; margin-top: 1rem;" onclick="coverimageeditbutton()">Edit</button>
                                    <input type="file" name="newTNimg" id="thumbImgEdit" style="display:none;">
                                </div>

                                <script type="text/javascript">
                                    function coverimageeditbutton() {
                                        document.getElementById('thumbImgEdit').click();
                                    }
                                </script>

                                <!-- form start -->


                                <div>
                                    <div class="title">
                                        <div class="tit-tit">
                                            <h3>Title</h3>
                                            <input type="text" id="tititi" value="Mobile Application" placeholder="Course Name" class="form-control needlongs" disabled></div>
                                        <div style="margin-top:10px; width:100%">
                                            <h3 style="margin-top: .5rem;">Concept</h3>
                                            <input type="text" id="concee" value="You learn basics of how to create mobile application and how to publish on PLAY STORE!!!" class="form-control needlong" placeholder="Main Concepts" disabled>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="facu">
                                <div>
                                    <h3>Faculty Handling this course</h3>
                                    <input type="text" id="exFacuShower" disabled class="form-control">

                                </div>

                                <div class="langu">
                                    <h3>Language</h3>
                                    <select id="newLang" name="newLang" class="form-control selecteneed" style="width:18rem" disabled>
                                  <option>tamil</option>
                                  <option>Eng</option>
                              </select>

                                </div>
                            </div>

                            <div class="descri">
                                <h3>Description</h3>
                                <div class="form-group focused">
                                    <textarea rows="4" id="dis" class="form-control form-control-alternative" placeholder="A few words about you ..." disabled></textarea>
                                </div>

                                <div>
                                    <h3 style="margin-top: 25px;">Video Overview &nbsp; <i id="vidPre" class="fas fa-play" onclick="videopop(this)" style="cursor: pointer;"></i><i id="vidUpl" class="fas fa-upload" onclick="newVideoClick()" style="cursor: pointer; display:none"></i></h3>
                                    <input type="file" name="newVideoClickClick" id="newVideoClickClick" style="display:none;">

                                    <!-- Button trigger modal -->
                                    <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#exampleModal" style="display: none;" id="videoplay">
                                </button>
                                    <!-- Modal -->
                                    <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                                        <div class="modal-dialog">
                                            <div class="modal-content">
                                                <div class="modal-header">
                                                    <h5 class="modal-title" id="exampleModalLabel">Video Preview</h5>
                                                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                            <span aria-hidden="true" onclick="pausevidprev()">&times;</span>
                                        </button>

                                                </div>
                                                <div class="modal-body">
                                                    <video id="vidPrevShowerV" autoplay loop style="width: 100%;"></video>
                                                </div>

                                            </div>
                                        </div>

                                    </div>
                                </div>

                                <div class="cousr">

                                    <div>
                                        <h3>Course Nationality</h3>

                                        <select class="form-control cours" disabled id="cn">
                                
                              </select>
                                    </div>

                                    <div class="coursecat">
                                        <h3>Course Category</h3>

                                        <select class="form-control cours" disabled id="cc">
                                
                              </select>
                                    </div>

                                    <div class="coursecat">
                                        <h3>Course Subcategory</h3>

                                        <select class="form-control cours3" disabled id="cs">
                                
                              </select>
                                    </div>

                                </div>

                                <!-- form end -->
                            </div>
                        </div>

                </div>
                </form>

                <script type="text/javascript">
                    function cvrimage() {
                        document.getElementById('coverimage').click();
                    }

                    function edbtn() {
                        var temp = document.getElementsByClassName('whatStudWilLearn');
                        for (var i = 0; i < temp.length; i++) {
                            temp[i].removeAttribute('disabled');
                        }
                        var temp = document.getElementsByClassName('requirementOfCrs');
                        for (var i = 0; i < temp.length; i++) {
                            temp[i].removeAttribute('disabled');
                        }
                        document.getElementById('avatars').setAttribute('class', 'image');
                        document.getElementById('txtid').style.display = "block";
                        document.getElementById('editbuttons').style.visibility = "visible";
                        document.getElementById('tititi').removeAttribute("disabled");
                        document.getElementById('concee').removeAttribute("disabled");
                        document.getElementById('dis').removeAttribute("disabled");
                        document.getElementById('newLang').removeAttribute('disabled');
                        document.getElementById('footer-crsDetails-edit').style.visibility = 'visible';
                        document.getElementById('vidPre').style.display = 'none';
                        document.getElementById('vidUpl').style.display = 'block';
                    }

                    function cnbtn() {
                        var temp = document.getElementsByClassName('whatStudWilLearn');
                        for (var i = 0; i < temp.length; i++) {
                            temp[i].setAttribute('disabled', true);
                        }
                        var temp = document.getElementsByClassName('requirementOfCrs');
                        for (var i = 0; i < temp.length; i++) {
                            temp[i].setAttribute('disabled', true);
                        }
                        document.getElementById('avatars').setAttribute('class', 'image1');
                        document.getElementById('txtid').style.display = "none";
                        document.getElementById('editbuttons').style.visibility = "hidden";
                        document.getElementById('tititi').setAttribute("disabled", true);
                        document.getElementById('concee').setAttribute("disabled", true);
                        document.getElementById('dis').setAttribute("disabled", true);
                        document.getElementById('cn').setAttribute("disabled", true);
                        document.getElementById('cc').setAttribute("disabled", true);
                        document.getElementById('cs').setAttribute("disabled", true);
                        document.getElementById('newLang').setAttribute('disabled', true);
                        document.getElementById('footer-crsDetails-edit').style.visibility = 'hidden';
                        document.getElementById('vidPre').style.display = 'block';
                        document.getElementById('vidUpl').style.display = 'none';
                    }
                </script>

                <div class="card1">
                    <h4>What Students Will Learn From This Course</h4>

                    <div class="content">
                        <form id="whatStudWilLearn">

                            <div class="what">

                                <input type="text" class="form-control form-control-alternative lft whatStudWilLearn" maxlength="25" pattern=".{25,}" placeholder="1. ______________" required disabled>
                                <input type="text" class="form-control form-control-alternative ryt whatStudWilLearn" maxlength="25" pattern=".{25,}" placeholder="2. ______________" required disabled>
                                <input type="text" class="form-control form-control-alternative ryt whatStudWilLearn" maxlength="25" pattern=".{25,}" placeholder="3. ______________" required disabled>
                                <input type="text" class="form-control form-control-alternative ryt whatStudWilLearn" maxlength="25" pattern=".{25,}" placeholder="4. ______________" required disabled>
                            </div>

                            <div class="what">
                                <input type="text" class="form-control form-control-alternative lft whatStudWilLearn" maxlength="25" pattern=".{25,}" placeholder="5. ______________" required disabled>
                                <input type="text" class="form-control form-control-alternative ryt whatStudWilLearn" maxlength="25" pattern=".{25,}" placeholder="6. ______________" required disabled>
                                <input type="text" class="form-control form-control-alternative ryt whatStudWilLearn" maxlength="25" pattern=".{25,}" placeholder="7. ______________" required disabled>
                                <input type="text" class="form-control form-control-alternative ryt whatStudWilLearn" maxlength="25" pattern=".{25,}" placeholder="8. ______________" required disabled>
                            </div>

                            <div class="what">
                                <input type="text" class="form-control form-control-alternative lft whatStudWilLearn" maxlength="25" pattern=".{25,}" placeholder="9. ______________" required disabled>
                                <input type="text" class="form-control form-control-alternative ryt whatStudWilLearn" maxlength="25" pattern=".{25,}" placeholder="10. ______________" required disabled>

                            </div>

                        </form>
                    </div>


                </div>

                <!-- End of 2nd offf -->

                <div class="card1">
                    <h4>Requirements</h4>

                    <div class="content">
                        <form id="requirementOfCrs">



                            <div class="what">

                                <input type="text" class="form-control form-control-alternative lft requirementOfCrs" maxlength="25" pattern=".{25,}" placeholder="1. ______________" required disabled>
                                <input type="text" class="form-control form-control-alternative ryt requirementOfCrs" maxlength="25" pattern=".{25,}" placeholder="2. ______________" required disabled>
                                <input type="text" class="form-control form-control-alternative ryt requirementOfCrs" maxlength="25" pattern=".{25,}" placeholder="3. ______________" required disabled>
                                <input type="text" class="form-control form-control-alternative ryt requirementOfCrs" maxlength="25" pattern=".{25,}" placeholder="4. ______________" required disabled>
                            </div>

                            <div class="what">
                                <input type="text" class="form-control form-control-alternative lft requirementOfCrs" maxlength="25" pattern=".{25,}" placeholder="5. ______________" required disabled>

                            </div>



                            <hr>

                            <div style="text-align: right; margin-bottom: -10px; margin-top: 10px; visibility: hidden;" id="footer-crsDetails-edit">
                                <button type="button" class="btn btn-sm btn-primary" id="updateCourse">Save Changes</button>
                                <button type="button" class="btn btn-sm btn-primary" style="background-color: #dc3545;" onclick="cnbtn()">Cancel</button>
                            </div>
                        </form>
                    </div>


                </div>
            </div>
            <!-- CARD-2 START -->

            <div class="card1">
                <h3>Meeting Details</h3>
                <button type="button" class="btn btn-sm btn-primary cm" id="createbtnid" onclick="createbtn()">
                         Create Meeting </button>

                <div class="tstyle" id=historytbl>

                    <table class="table table-bordered tstyle">
                        <thead>
                            <tr>
                                <th scope="col">S.No</th>
                                <th scope="col">Meeting Name</th>
                                <th scope="col">Date & Time</th>
                                <th scope="col">Status</th>
                                <th scope="col">Action</th>
                            </tr>
                        </thead>
                        <tbody id="meetingsList">
                        </tbody>
                    </table>


                </div>
                <div style="display:none; padding: .9rem;" id="creatmeetingform">
                    <div class="card">
                        <div class="card-header" style="background-color: #0d6efd; color: #fff; font-size: 18px; text-align: center;" id="header-form-ce">
                            Create a New Meeting !!!
                        </div>
                        <div class="card-body d-flex justify-content-center">
                            <form id="meetingform">
                                <div>
                                    <table id="passtable">
                                        <tr style="display: none;" id="meetidrow">
                                            <th>Meeting Id </th>
                                            <td>: <input type="text" name="meetid" id="meetid" style="width: 175px;" readonly></td>
                                        </tr>
                                        <tr>
                                            <th>Meeting Name </th>
                                            <td>: <input type="text" name="meetname" id="meetname" style="width: 175px;" required></td>
                                        </tr>
                                        <tr>
                                            <th>Date </th>
                                            <td>: <input type="Date" name="date" id="date" style="width: 175px;" required></td>
                                        </tr>
                                        <tr>
                                            <th>Time </th>
                                            <td>: <input type="Time" name="time" id="time" style="width: 175px;" required>
                                                <tr>
                                                    <th>Duration </th>
                                                    <td>: <input type="text" name="dur" id="dur" placeholder="HH:MM:SS" style="width: 175px;" required></td>
                                                </tr>
                                                <tr>
                                                    <th>Password </th>
                                                    <td>: <input type="text" name="pass" id="pass" placeholder="Make me a Strong" style="width: 175px;" required></td>
                                                </tr>
                                    </table>
                                </div>
                        </div>
                        <div class="card-footer text-muted d-flex justify-content-center">
                            <button id="btnofcrtandedit" type="button" class="btn btn-sm btn-primary" onclick="meetingcreate()">Create</button> &nbsp; &nbsp;
                            <button type="reset" class="btn btn-sm btn-primary" style="background-color: red;" onclick="formToTable()">Cancel</button>
                        </div>
                        </form>
                    </div>


                </div>
                <!-- create meeting form -->



            </div>


            <!-- popup -->

            <!-- Button trigger modal -->
            <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#infopop" id="btnpop" style="display: none;">
  Hello
</button>

            <!-- Modal -->
            <div class="modal fade" id="infopop" data-backdrop="static" data-keyboard="false" tabindex="-1" aria-labelledby="infopopLabel" aria-hidden="true">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title" id="infopopLabel">Meeting Info</h5>

                        </div>
                        <div class="modal-body" style="display:flex; justify-content: center;">

                            <div>
                                <table id="infotable">
                                    <tr>
                                        <th>S.No </th>
                                        <td>: 1</td>
                                    </tr>
                                    <tr>
                                        <th>Meeting Name </th>
                                        <td>: Java </td>
                                    </tr>
                                    <tr>
                                        <th>Meeting ID </th>
                                        <td>: 121</td>
                                    </tr>
                                    <tr>
                                        <th>Date </th>
                                        <td>: 12-02-2020</td>
                                    </tr>
                                    <tr>
                                        <th>Time </th>
                                        <td>: 04:08:33</td>
                                    </tr>
                                    <tr>
                                        <th>Password </th>
                                        <td>: h34hm@54%uu</td>
                                    </tr>
                                    <tr>
                                        <th>Duration </th>
                                        <td>: hh:mm:ss</td>
                                    </tr>
                                    <tr>
                                        <th>Status </th>
                                        <td>: <i class="fas fa-clock"></i> Pending</td>
                                    </tr>
                                </table>
                            </div>
                        </div>


                        <div class="modal-footer d-flex justify-content-center" style="margin-left:4rem;">
                            <button type="button" class="btn btn-sm btn-primary">Start Meeting</button>
                            <button type="button" class="btn btn-sm btn-primary" style="background-color: red;" data-dismiss="modal">Cancel</button>
                        </div>
                    </div>
                </div>
            </div>
            <!-- popup -->


            <!-- create meeting form -->
        </div>
    </div>
    </div>
    </div>
    <!-- 2ND CARD VIEW ENDING -->
    </div>
    <!-- D-ECOM-DIV -->
    </div>
    <!-- D-WRAP-DIV -->
    <div id="snackbar"></div>
    <button type="button" id="loaderTrigger" class="btn btn-primary" data-toggle="modal" data-target="#loaderModal" style="display: none;">
    </button>

    <!-- Modal -->
    <div class="modal" id="loaderModal" data-backdrop="static" tabindex="-1" role="dialog" aria-labelledby="loaderModalTitle" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered d-flex justify-content-center" role="document">
            <div class="modal-content temp-loader">
                <div class="modal-header" style="display: none;">
                    <h5 class="modal-title" id="loaderModalTitle">Modal title</h5>
                    <button id="closeLoader" type="button" class="close" data-dismiss="modal" aria-label="Close">
                  <span aria-hidden="true">&times;</span>
                </button>
                </div>
                <div class="modal-body">
                    <div class="d-flex">
                        <div>
                            <img style="height:50px" src="../../assets/images/loader.gif">
                        </div>
                        <div style="margin-top: 0.7rem; font-size:1.25rem"><strong>Loading...</strong></div>
                    </div>
                </div>

            </div>
        </div>
    </div>
    <div id="facidssss" style="display: none;"></div>
    <script src="../../assets/vendors/jquery/jquery-3.3.1.min.js"></script>

    <script src="../../assets/vendors/bootstrap/js/bootstrap.bundle.js"></script>

    <script src="../../assets/vendors/charts/chartist-bundle/chartist.min.js"></script>

    <script>
        var ids = sessionStorage.getItem('fac-course-edit-crs-id-live').split('?***?');
        var nameApro = '';
        var mainCategories = [];
        var existingFacIds = [];
        var existingCI = '';
        var existingTN = '';
        var existingIV = '';
        var existingMeets = [];
        var facultyDetails = [];
        var existingStatus = '';

        localforage.getItem('mainCategories').then((b) => {
            mainCategories = b;
        })
        var subCategories = [];
        localforage.getItem('subCategories').then((c) => {
            subCategories = c;
        })
        var nationalMainC = [];
        localforage.getItem('nationalMainC').then((d) => {
            nationalMainC = d;
        })
        var interNationalMainC = [];
        localforage.getItem('interNationalMainC').then((e) => {
            interNationalMainC = e;
        })
        localforage.getItem('fullAuth').then((e) => {
            nameApro = e;
        });
        var nameAproA = nameApro.split('-*de*-');
        auth.onAuthStateChanged((user) => {
            if (user) {

            } else {
                location.replace('../login/');
            }
        })

        function newVideoClick() {
            document.getElementById('newVideoClickClick').click();
        }

        function videopop(v) {
            var w = "https://secure--storage.s3.ap-south-1.amazonaws.com/" + v.getAttribute('thisVidLi') + '?dummy=' + String(Math.floor(Math.random() * 100000));
            document.getElementById('vidPrevShowerV').setAttribute('src', w)
            document.getElementById('videoplay').click();
        }
        document.getElementById('coverimage').addEventListener('change', function() {
            if (event.target.files.length == 0) {
                return;
            }
            var iurl = URL.createObjectURL(event.target.files[0]);
            $('#avatars').attr("src", iurl);
        });

        document.getElementById('thumbImgEdit').addEventListener('change', function() {
            if (event.target.files.length == 0) {
                return;
            }
            var iurl = URL.createObjectURL(event.target.files[0]);
            $('#thumbImg').attr("src", iurl);
        });

        function onLoadSetter() {
            loaderTriggerAndEnder(true);
            localforage.getItem('fullAuthF').then((e) => {
                nameApro = e;
                nameAproA = nameApro.split('-*de*-');
                document.getElementById('iName').innerHTML = nameAproA[0];
                document.getElementById('smallProfileImage').setAttribute('src', 'https://secure--storage.s3.ap-south-1.amazonaws.com/' + nameAproA[1]);
            });

            localforage.getItem('facultyDetails').then((a) => {
                facultyDetails = a;
                data.collection('subCategories').doc(ids[0]).collection('courses').doc(ids[1]).get().then((snap557) => {
                    var allData = snap557.data();
                    if (allData.instituteName == nameAproA[0]) {
                        document.getElementById('showIfOwnerIsFaculty').style.display = "block";
                    }
                    var languages = ['Tamil', 'English', 'Hindi'];
                    existingMeets = allData.meetings;
                    var facNames = '';

                    document.getElementById('exFacuShower').value = nameAproA[0];

                    $('#firstTitle').html(allData.courseName);
                    $('#tititi').val(allData.courseName);
                    $('#avatars').attr('src', 'https://secure--storage.s3.ap-south-1.amazonaws.com/' + allData.coverImg + '?dummy=' + String(Math.floor(Math.random() * 100000)));
                    existingCI = allData.coverImg;
                    $('#thumbImg').attr('src', 'https://secure--storage.s3.ap-south-1.amazonaws.com/' + allData.thumbnail + '?dummy=' + String(Math.floor(Math.random() * 100000)));
                    existingTN = allData.thumbnail;
                    $('#concee').val(allData.concept);

                    var langOption = '';
                    existingStatus = allData.status;

                    languages.forEach((langs) => {
                        if (langs == allData.lang) {
                            langOption += '<option value="' + langs + '" selected>' + langs + '</option>';
                        } else {
                            langOption += '<option value="' + langs + '">' + langs + '</option>';
                        }
                    })

                    $('#newLang').html(langOption);

                    $('#dis').html(allData.description);

                    $('#vidPre').attr('thisVidLi', allData.introVideo);
                    existingIV = allData.introVideo;
                    if (allData.region == 'National') {
                        $('#cn').html('<option value="National" selected>National</option>');
                        $('#cc').html('<option value="" selected>' + allData.category.toUpperCase() + '</option>');
                        $('#cs').html('<option value="" selected>' + allData.subcategory.toUpperCase() + '</option>');
                    } else {
                        $('#cn').html('<option value="International" selected>International</option>');
                        $('#cc').html('<option value="" selected>' + allData.category.toUpperCase() + '</option>');
                        $('#cs').html('<option value="" selected>' + allData.subcategory.toUpperCase() + '</option>');
                    }

                    var elms = document.getElementsByClassName('whatStudWilLearn')
                    for (var i = 0; i < allData.whatYouWillLearn.length; i++) {
                        if (allData.whatYouWillLearn[i].length != 0 && allData.whatYouWillLearn[i] != 'undefined') {
                            elms[i].setAttribute("value", allData.whatYouWillLearn[i]);
                        }
                    }

                    var elms1 = document.getElementsByClassName('requirementOfCrs')
                    for (var i = 0; i < allData.requirements.length; i++) {
                        if (allData.requirements[i].length != 0 && allData.requirements[i] != 'undefined') {
                            elms1[i].setAttribute("value", allData.requirements[i]);
                        }
                    }
                })
            })
            setTimeout(() => {
                getMeetings(existingMeets);
                loaderTriggerAndEnder(false);
            }, 4000);
        }

        function showToast(msg) {
            var x = document.getElementById("snackbar");
            x.innerHTML = msg;
            x.className = "show";
            setTimeout(function() {
                x.className = x.className.replace("show", "");
            }, 3000);
        }

        function logout() {
            auth.signOut().then(() => {
                localforage.clear();

                location.replace('../../login/');
            });
        }

        function loaderTriggerAndEnder(d) {
            if (d) {
                document.getElementById('loaderTrigger').click();
            } else {
                document.getElementById('closeLoader').click();
            }
        }

        function formToTable() {
            document.getElementById('creatmeetingform').style.display = "none";
            document.getElementById('createbtnid').style.display = "block";
            document.getElementById('historytbl').style.display = "block";
        }

        function popups() {
            document.getElementById('btnpop').click();
        }

        function createbtn() {
            document.getElementById('historytbl').style.display = "none";
            document.getElementById('creatmeetingform').style.display = "block";
            document.getElementById('header-form-ce').innerHTML = ' Create a New Meeting !!!';
            document.getElementById('btnofcrtandedit').innerHTML = "Create";
            document.getElementById('btnofcrtandedit').setAttribute('onclick', 'meetingcreate()');
            document.getElementById('meetidrow').style.display = "none";
        }

        function hidess() {
            alert('Do you want to cancel !!!')
            document.getElementById('historytbl').style.display = "block";
            document.getElementById('createbtnid').style.display = "block";
            document.getElementById('creatmeetingform').style.display = "none";
        }

        function viewAndEdit(argument) {

            var id = argument.getAttribute('data-meet-id');
            var index = argument.getAttribute('data-index-meet');
            document.getElementById('meetid').value = id;
            document.getElementById('meetname').value = document.querySelectorAll('.meetingnameClass')[index - 1].innerHTML;
            var dt = document.querySelectorAll('.meetingtimedateClass')[index - 1].innerHTML.split(" | ");
            document.getElementById('time').value = dt[1];
            document.getElementById('date').value = dt[0];

            document.getElementById('pass').value = document.querySelectorAll('.meetingpasswordClass')[index - 1].innerHTML;
            document.getElementById('dur').value = document.querySelectorAll('.meetingdurationClass')[index - 1].innerHTML;
            document.getElementById('historytbl').style.display = "none";
            document.getElementById('creatmeetingform').style.display = "block";
            document.getElementById('header-form-ce').innerHTML = ' View and Edit  Meeting !';
            document.getElementById('meetidrow').style.display = "table-row";
            document.getElementById('btnofcrtandedit').innerHTML = "Update";
            document.getElementById('btnofcrtandedit').setAttribute('onclick', 'meetingupdate()');

        }

        function getValuesByClassName(className, returnType) {
            var k = document.querySelectorAll('.' + className);
            var deli = '';
            var values = '';
            var j = 0;
            for (var i = 0; i < k.length; i++) {
                if (j > 0) {
                    deli = ','
                }
                if (k[i].value != '' || k[i].value != null) {
                    values += deli + k[i].value;
                    j++;
                }
            }
            if (returnType == 'array') {
                return values.split(',');
            } else {
                return values;
            }
        }
        $("#updateCourse").on('click', () => {
            loaderTriggerAndEnder(true);
            var whatyouwilllearn = getValuesByClassName('whatStudWilLearn', 'string').split(',');
            var reqs = getValuesByClassName('requirementOfCrs', 'string').split(',');
            var facids = document.getElementById('facidssss').innerHTML.split(',');
            var facArray = [];

            facids.forEach((idddd) => {
                facArray.push(idddd);
            })

            if (facArray[0] != '') {
                facArray.forEach((arg) => {
                    if (!existingFacIds.includes(arg)) {
                        data.collection('faculty').doc(arg).get().then((snap) => {
                            var arrrrr = snap.data().courseIds;
                            arrrrr.push(ids[0] + '?***?' + ids[1]);
                            data.collection('faculty').doc(arg).update({
                                courseIds: arrrrr
                            })
                        })
                    }
                })

                existingFacIds.forEach((arrr) => {
                    if (!facArray.includes(arrr)) {
                        data.collection('faculty').doc(arrr).get().then((snap) => {
                            var arrrrr = snap.data().courseIds;
                            var tempArray = [];

                            arrrrr.forEach((dfg) => {
                                if (dfg != ids[0] + '?***?' + ids[1]) {
                                    tempArray.push(dfg);
                                }
                            })

                            data.collection('faculty').doc(arrr).update({
                                courseIds: tempArray
                            })
                        })
                    }
                })
            }

            let fd = new FormData(document.querySelector('#formOfUpdate'));
            fd.append('CINAME', existingCI);
            fd.append('TNNAME', existingTN);
            fd.append('IVNAME', existingIV);
            $.ajax({
                url: 'matUp.php',
                type: 'post',
                data: fd,
                processData: false,
                contentType: false,
                error: function() {
                    alert("Upload Failed, Try Again !!!");
                },
                success: function(vall) {
                    var newTitle = $('#tititi').val();
                    var newConcept = $('#concee').val();
                    var newDescription = $('#dis').val();
                    var newLanguage = $('#newLang').val();

                    if (facArray[0] != '') {
                        data.collection('subCategories').doc(ids[0]).collection('courses').doc(ids[1]).update({
                            courseName: newTitle,
                            concept: newConcept,
                            description: newDescription,
                            lang: newLanguage,
                            faculties: facArray,
                            requirements: reqs,
                            whatYouWillLearn: whatyouwilllearn,
                            lastUpdated: parseInt(new Date().getTime())
                        }).then(() => {
                            loaderTriggerAndEnder(false);
                            location.replace('');
                        })
                    } else {
                        data.collection('subCategories').doc(ids[0]).collection('courses').doc(ids[1]).update({
                            courseName: newTitle,
                            concept: newConcept,
                            description: newDescription,
                            lang: newLanguage,
                            requirements: reqs,
                            whatYouWillLearn: whatyouwilllearn,
                            lastUpdated: parseInt(new Date().getTime())
                        }).then(() => {
                            loaderTriggerAndEnder(false);
                            location.replace('');
                        })
                    }
                }
            });

        })

        function candelete(a) {
            var meets = a.getAttribute('data-meet-id').split('?***?');

            if (confirm('Do you want to cancel and delete ' + meets[1] + ' meeting ?')) {
                loaderTriggerAndEnder(true);
                var fd = new FormData();
                fd.append('meetid', meets[0]);

                $.ajax({
                    url: 'meeting_delete.php',
                    type: 'post',
                    data: fd,
                    processData: false,
                    contentType: false,
                    success: function(htt) {
                        var tempArray = [];

                        existingMeets.forEach((argData) => {
                            if (argData.meetingId != meets[0]) {
                                tempArray.push(argData);
                            }
                        })

                        data.collection('subCategories').doc(ids[0]).collection('courses').doc(ids[1]).update({
                            meetings: tempArray,
                            lastUpdated: parseInt(new Date().getTime())
                        }).then(() => {
                            existingMeets = tempArray;
                            getMeetings(existingMeets);
                            loaderTriggerAndEnder(false);
                            showToast('Meeting deleted !!!');
                        })
                    }
                });
            }
        }

        function getMeetings(meetArray) {
            var meetingsString = ``;
            var i = 0;
            meetArray.forEach((arg) => {
                i++;
                meetingsString += `<tr class="design">
                  <th scope="row">` + i + `</th>
                  <td class="meetingnameClass">` + arg.meetingName + `</td>
                  <td class="meetingtimedateClass">` + arg.meetingDate + ` | ` + arg.meetingTime + `</td>
                  <td>` + arg.meetingStatus + `</td>
                  <td style="display:none" class="meetingpasswordClass">` + arg.meetingPassword + `</td>
                  <td style="display:none"
                      class="meetingdurationClass">` + arg.meetingDuration + `</td>
                  <td><button class="btn btn-sm btn-info" style="background-color:#5e72e4; border-radius:5px;" data-meet-id="` + arg.meetingId + `" data-index-meet="` + i + `" onclick="viewAndEdit(this)">View & Edit</button><button style="margin-left:5px; border-radius:5px;" class="btn btn-sm btn-success" data-index-meet="` + i + `" data-meet-id="` + arg.meetingId + `" onclick="startmeet(this)">Start</button><button 
                  style="margin-left:5px; border-radius:5px;" class="btn btn-sm btn-danger" data-meet-id="` + arg.meetingId + `?***?` + arg.meetingName + `" onclick="candelete(this)">Delete</button></td>
                </tr>`;
            })

            $('#meetingsList').html(meetingsString);
        }

        function startmeet(m) {
            var idd = m.getAttribute('data-meet-id');
            var indexx = m.getAttribute('data-index-meet');
            var pass = document.querySelectorAll('.meetingpasswordClass')[indexx - 1].innerHTML;

            sessionStorage.setItem('meetingId', idd);
            sessionStorage.setItem('meetingPassword', pass);
            sessionStorage.setItem('meetingEmail', facultyDetails.email);
            sessionStorage.setItem('meetingHostName', facultyDetails.instituteName);

            location.replace('../Zoom/');
        }

        function meetingcreate() {
            loaderTriggerAndEnder(true);
            var formMeeting = document.getElementById('meetingform');

            var fd = new FormData();
            fd.append('meetname', formMeeting.meetname.value);
            fd.append('date', formMeeting.date.value);
            fd.append('time', formMeeting.time.value + ':00');
            fd.append('dur', formMeeting.dur.value);
            fd.append('pass', formMeeting.pass.value);

            $.ajax({
                url: 'meeting_create.php',
                type: 'post',
                data: fd,
                processData: false,
                contentType: false,
                success: function(meetId) {
                    data.collection('subCategories').doc(ids[0]).collection('courses').doc(ids[1]).get().then((snapshot) => {
                        var tempMeet = snapshot.data().meetings;

                        tempMeet.push({
                            meetingId: String(meetId),
                            meetingName: formMeeting.meetname.value,
                            meetingDate: formMeeting.date.value,
                            meetingTime: formMeeting.time.value + ':00',
                            meetingDuration: formMeeting.dur.value,
                            meetingPassword: formMeeting.pass.value,
                            meetingStatus: 'Yet to start'
                        });

                        existingMeets = tempMeet;
                        getMeetings(existingMeets);

                        data.collection('subCategories').doc(ids[0]).collection('courses').doc(ids[1]).update({
                            meetings: tempMeet,
                            lastUpdated: parseInt(new Date().getTime())
                        }).then((dddddd) => {
                            formToTable();
                            loaderTriggerAndEnder(false);
                            showToast('Meeting Created');
                        })
                    })
                }
            });
        }

        function meetingupdate() {
            loaderTriggerAndEnder(true);
            var mname = document.getElementById('meetname').value;
            var mdate = String(document.getElementById('date').value);
            var mtime = String(document.getElementById('time').value);
            var mduration = document.getElementById('dur').value;
            var mpass = document.getElementById('pass').value;
            var meetid = document.getElementById('meetid').value;

            var fd = new FormData();
            fd.append('meetname', mname);
            fd.append('date', mdate);
            fd.append('time', mtime);
            fd.append('dur', mduration);
            fd.append('pass', mpass);
            fd.append('mid', meetid);

            $.ajax({
                url: 'meeting_update.php',
                type: 'post',
                data: fd,
                processData: false,
                contentType: false,
                success: function(tyt) {
                    if (String(tyt) == 'success') {
                        for (var i = 0; i < existingMeets.length; i++) {
                            if (existingMeets[i].meetingId == meetid) {
                                existingMeets[i].meetingName = mname;
                                existingMeets[i].meetingDate = mdate;
                                existingMeets[i].meetingTime = mtime + ':00';
                                existingMeets[i].meetingDuration = mduration;
                                existingMeets[i].meetingPassword = mpass;
                            }
                        }

                        getMeetings(existingMeets);

                        data.collection('subCategories').doc(ids[0]).collection('courses').doc(ids[1]).update({
                            meetings: existingMeets,
                            lastUpdated: parseInt(new Date().getTime())
                        }).then(() => {
                            formToTable();
                            loaderTriggerAndEnder(false);
                            showToast('Meeting updated !!!');
                        })
                    } else {
                        loaderTriggerAndEnder(false);
                        showToast('Meeting not updated !!!');
                    }
                }
            });
        }

        function addToArchive() {
            if (confirm('Do you want to archive this course ?')) {
                loaderTriggerAndEnder(true);
                data.collection('subCategories').doc(ids[0]).collection('courses').doc(ids[1]).update({
                    status: 'A_' + existingStatus,
                    lastUpdated: parseInt(new Date().getTime())
                }).then(() => {
                    loaderTriggerAndEnder(false);
                    location.replace('../../faculty-courses/');
                })
            }
        }

        function deleteCourse() {
            if (confirm('Do you want to delete this course ?')) {
                loaderTriggerAndEnder(true);
                data.collection('subCategories').doc(ids[0]).collection('courses').doc(ids[1]).get().then((snapshot) => {
                    var deleteArray = snapshot.data();
                    var meetids = '';

                    var s3DeleteFileNames = deleteArray.coverImg + '?***?' + deleteArray.thumbnail + '?***?' + deleteArray.introVideo;

                    deleteArray.faculties.forEach((facc) => {
                        data.collection('faculty').doc(facc).get().then((snapshotD) => {
                            var tempArray = snapshotD.data().courseIds;
                            var temp = [];

                            tempArray.forEach((gfgfgf) => {
                                if (gfgfgf != ids[0] + '?***?' + ids[1]) {
                                    temp.push(gfgfgf);
                                }
                            })

                            data.collection('faculty').doc(facc).update({
                                courseIds: temp
                            })
                        })
                    })

                    var jjjj = 0;
                    deleteArray.meetings.forEach((meetsssss) => {
                        if (jjjj == 0) {
                            meetids = meetsssss.meetingId;
                            jjjj++;
                        } else {
                            meetids += '?***?' + meetsssss.meetingId;
                        }
                    })

                    $.ajax({
                        url: 'meeting_delete.php',
                        type: 'post',
                        data: {
                            meetid: meetids
                        },
                        success: function(htt) {
                            setTimeout(() => {
                                data.collection('subCategories').doc(ids[0]).collection('courses').doc(ids[1]).collection('reviews').get().then((artrtrtrrt) => {
                                    if (artrtrtrrt.docs.length > 0) {
                                        data.collection('subCategories').doc(ids[0]).collection('courses').doc(ids[1]).collection('reviews').delete();
                                    }
                                });
                                data.collection('subCategories').doc(ids[0]).collection('courses').doc(ids[1]).delete();
                                data.collection('subCategories').doc(ids[0]).get().then((snapshot557) => {
                                    var noOfCourses = snapshot557.data().noOfCourses - 1;

                                    data.collection('subCategories').doc(ids[0]).update({
                                        noOfCourses: noOfCourses
                                    }).then(() => {
                                        $.ajax({
                                            url: 's3Delete.php',
                                            type: 'post',
                                            data: {
                                                fileNames: s3DeleteFileNames
                                            },
                                            success: function(valll) {
                                                var tttArray = [];
                                                facultyDetails.courseIds.forEach((insids) => {
                                                    if (insids != ids[0] + '?***?' + ids[1]) {
                                                        tttArray.push(insids);
                                                    }
                                                })
                                                facultyDetails.courseIds = tttArray;
                                                localforage.setItem('facultyDetails', facultyDetails);
                                                data.collection('faculty').doc(facultyDetails.id).update({
                                                    courseIds: tttArray
                                                }).then(() => {
                                                    location.replace('../../faculty-courses/');
                                                })
                                            }
                                        });
                                    })
                                })
                                loaderTriggerAndEnder(false);
                            }, 5000);
                        }
                    });
                })
            }
        }

        function publishCourse() {
            if (confirm('Do you want to publish this course ?')) {
                loaderTriggerAndEnder(true);
                var originalPrice = $('#coursePrice').val();
                var offersu = [];
                var offersPeriod = [];
                var offersPercentage = [];
                var getterOfPercentage = 0;
                document.querySelectorAll('.payConInpPercentage').forEach((element) => {
                    offersPercentage.push(element.value);
                })

                document.querySelectorAll('.payConInpPeriod').forEach((element) => {

                    offersPeriod.push(element.value);
                })
                for (var i = 0; i < offersPeriod.length; i++) {
                    var period = parseInt(offersPeriod[i]);
                    var discount = parseInt(offersPercentage[i]);
                    offersu.push({
                        discount: discount,
                        period: period
                    })

                }

                data.collection('subCategories').doc(ids[0]).collection('courses').doc(ids[1]).update({
                    publish: {
                        originalPrice: parseInt(originalPrice),
                        offers: offersu,
                        tax: {
                            CGST: 0,
                            IGST: 0,
                            SGST: 0,
                            UGST: 0
                        }
                    },
                    progess: 100,
                    status: 'Not Verified'
                }).then(() => {
                    data.collection('admin').doc('KrnczbCIGXa0qyLf4rCfmFabc793').get().then((ddddd) => {
                        var newCous = ddddd.data().newCourses;

                        newCous.push(ids[0] + '?***?' + ids[1]);

                        data.collection('admin').doc('KrnczbCIGXa0qyLf4rCfmFabc793').update({
                            newCourses: newCous
                        }).then(() => {
                            loaderTriggerAndEnder(false);
                            showToast('Course Published !!!');
                            setTimeout(() => {
                                location.replace('../../faculty-courses/');
                            }, 3000);
                        });
                    });
                })
            }
        }

        function showRelated(value) {
            if (value == "1") {
                document.getElementById('containerOfPayDis').innerHTML = '';
                createNewDiscountPeriod('containerOfPayDis');
                document.getElementById('notForFree').style.display = "flex";
                document.querySelectorAll('.notForFree2').forEach((ele) => {
                    console.log(ele.style)
                    ele.style.display = "block";
                    console.log(ele.style)
                })
                document.querySelectorAll('.onlyForNormal2').forEach((ele) => {
                    ele.style.display = "block";
                })
                document.getElementById('onlyForNormal').style.display = "block";
                document.getElementById('containerOfPayDis').innerHTML = '';

                document.querySelectorAll('.payConInpPeriod').forEach((element) => {
                    element.value = parseInt("0");
                })
                document.querySelectorAll('.payConInpPercentage').forEach((element) => {
                    element.value = parseInt("0");
                })

            } else if (value == "2") {
                document.getElementById('containerOfPayDis').innerHTML = '';
                createNewDiscountPeriod('containerOfPayDis');
                document.getElementById('notForFree').style.display = "flex";
                document.getElementById('onlyForNormal').style.display = "none";
                document.querySelectorAll('.notForFree2').forEach((ele) => {
                    ele.style.display = "block";
                })
                document.querySelectorAll('.onlyForNormal2').forEach((ele) => {
                    ele.style.display = "none";
                })
                document.querySelectorAll('.payConInpPeriod').forEach((element) => {
                    element.value = parseInt("-1");
                })
                document.querySelectorAll('.payConInpPercentage').forEach((element) => {
                    element.value = parseInt("0");
                })

            } else if (value == "3") {
                document.getElementById('coursePrice').value = "0";

                document.getElementById('notForFree').style.display = "none";
                document.getElementById('onlyForNormal').style.display = "none";
                document.querySelectorAll('.notForFree2').forEach((ele) => {
                    ele.style.display = "none";
                })
                document.querySelectorAll('.onlyForNormal2').forEach((ele) => {
                    ele.style.display = "none";
                })
                document.querySelectorAll('.payConInpPercentage').forEach((element) => {
                    element.value = parseInt("100");
                })
                document.querySelectorAll('.payConInpPeriod').forEach((element) => {
                    element.value = parseInt("-1");
                })
            } else if (value == "0") {
                document.getElementById('containerOfPayDis').innerHTML = '';

                document.getElementById('notForFree').style.display = "none";
                document.getElementById('onlyForNormal').style.display = "none";
                document.querySelectorAll('.notForFree2').forEach((ele) => {
                    ele.style.display = "block";
                })
                document.querySelectorAll('.onlyForNormal2').forEach((ele) => {
                    ele.style.display = "block";
                })
            }
        }

        function createNewDiscountPeriod(cont) {
            $("#" + cont).append(` <div class="d-flex" style="justify-content:space-between;">
                                <div  style="margin-top: .7rem; display:block" class="onlyForNormal2">
                                    <p>Enter Discount % Period
                                     <small style="color:#5e72e4; font-size: 11px;"> (in days)</small></p>

                                     <input type="number" name="first" style="width:6rem" class="form-control payConInpPeriod paymentContainerInput mobmod" >
                                </div>

                                <div  style="margin-top: .7rem; display:block" class="notForFree2">
                                    <p>Enter Discount %
                                     <small style="color:#5e72e4; font-size: 11px;"> (in percentage)</small></p>

                                     <input type="number" name="first" style="width:6rem" class="form-control payConInpPercentage paymentContainerInput mobmod" >
                                </div>
               `)

        }

        function pausevidprev() {
            document.getElementById('vidPrevShowerV').pause();
        }
    </script>

</body>
<!-- primary color : #5e72e4 -->

</html>